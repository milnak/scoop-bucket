{
    "version": "2.4",
    "description": "Portable, simple and fast installer for Visual Studio Build Tools.",
    "homepage": "https://github.com/Data-Oriented-House/PortableBuildTools",
    "license": "Freeware",
    "architecture": {
        "64bit": {
            "url": "https://github.com/Data-Oriented-House/PortableBuildTools/releases/download/v2.4/PortableBuildTools.exe",
            "hash": "e8008f6c8910354010f29ddd0a7473eb48dfbc228654fb1903bd3096b6288a1a"
        }
    },
    "pre_install": "New-Item -ItemType SymbolicLink -Path \"$dir\\pwsh.exe\" -Target \"$env:ProgramFiles\\PowerShell\\7\\pwsh.exe\" | Out-Null",
    "post_install": [
        "& (Join-Path $dir 'PortableBuildTools.exe')  accept_license target=x64 host=x64 env=user path='C:\\BuildTools'",
        "if (!$?) { throw 'Running PortableBuildTools failed. Installation incomplete.' }"
    ],
    "post_uninstall": "if (Test-Path -LiteralPath 'C:\\BuildTools' -PathType Container) { Remove-Item -LiteralPath 'c:\\BuildTools' -Force -Recurse }",
    "shortcuts": [
        [
            "pwsh.exe",
            "Portable Build Tools Developer Environment",
            "/NoExit C:\\BuildTools\\devcmd.ps1",
            "PortableBuildTools.exe"
        ]
    ],
    "notes": "To initialize build environment use 'Portable Build Tools Developer Environment' shortcut or run 'C:\\BuildTools\\devcmd.ps1'",
    "checkver": "github",
    "autoupdate": {
        "url": "https://github.com/Data-Oriented-House/PortableBuildTools/releases/download/v$version/PortableBuildTools.exe"
    }
}
